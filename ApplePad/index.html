<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SketchSense – Stroke & Geometry</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #111;
      color: #eee;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }

    h1 {
      margin: 16px 0 4px;
      font-size: 20px;
      font-weight: 600;
    }

    #stepIndicator {
      margin-bottom: 12px;
      font-size: 14px;
      color: #bbb;
    }

    #mainLayout {
      display: flex;
      gap: 24px;
      padding: 16px;
      max-width: 1000px;
      width: 100%;
      box-sizing: border-box;
    }

    #canvasContainer {
      flex: 2;
      border: 1px solid #333;
      border-radius: 8px;
      overflow: hidden;
      background: #111;
    }

    #controlsContainer select {
      width: 100%;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #444;
      background: #111;
      color: #eee;
      font-size: 13px;
    }


    #demographicsPanel select {
      width: 100%;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #444;
      background: #111;
      color: #eee;
    }

    .panel {
      border-radius: 8px;
      padding: 12px;
      background: #1a1a1a;
      border: 1px solid #333;
    }

    .panel h2, .panel h3 {
      margin: 0 0 8px;
      font-size: 16px;
    }

    .sliderRow {
      margin: 8px 0;
      font-size: 13px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .sliderRow label {
      display: flex;
      justify-content: space-between;
    }

    .sliderRow span.value {
      color: #aaa;
    }

    /* NEW: for the dual-end labels */
    .dualLabel {
      display: flex;
      justify-content: space-between;
      font-size: 13px;
      color: #bbb;
      margin-bottom: 2px;
    }

    input[type="range"] {
      width: 100%;
    }

    #navButtons {
      display: flex;
      justify-content: space-between;
      margin-top: 8px;
      gap: 8px;
    }

    button {
      padding: 8px 14px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      background: #2d2d2d;
      color: #f5f5f5;
    }

    button:disabled {
      opacity: 0.4;
      cursor: default;
    }

    button#btnNext {
      background: #3c82f6;
    }

    #message {
      margin-top: 8px;
      font-size: 12px;
      color: #aaa;
      min-height: 16px;
    }
  </style>
</head>
<body>
  <h1>Apple Drawing Pad</h1>

  <!-- =========================
       SCREEN A: Demographic page
       ========================= -->
  <div id="demoScreen">
    <div id="mainLayout">
      <div id="demoCanvasContainer">
        <div class="panel">
          <h2>Before we start</h2>

          <div class="sliderRow">
            <label for="ageRange">
              Age range
            </label>
            <select id="ageRange">
              <option value="">-- select --</option>
              <option value="18-24">18–24</option>
              <option value="25-34">25–34</option>
              <option value="35-44">35–44</option>
              <option value="45-54">45–54</option>
              <option value="55-64">55–64</option>
              <option value="65+">65+</option>
            </select>
          </div>

          <div class="sliderRow">
            <label for="gender">
              Gender
            </label>
            <select id="gender">
              <option value="">-- select --</option>
              <option value="female">Female</option>
              <option value="male">Male</option>
              <option value="non-binary">Non-binary</option>
              <option value="prefer-not">Prefer not to say</option>
            </select>
          </div>

          <div class="sliderRow">
            <label for="eduBackground">
              Education background
            </label>
            <select id="eduBackground">
              <option value="">-- select --</option>
              <option value="art-design-arch">Art / Design </option>
              <option value="eng-tech-cs">Engineering / Technology / Computer Science</option>
              <option value="natural-math">Natural Sciences / Mathematics</option>
              <option value="social-humanities">Social Sciences / Humanities</option>
              <option value="business-econ">Business / Economics / Management</option>
              <option value="health-med">Health / Medicine</option>
              <option value="other">Other / Mixed background</option>
            </select>
          </div>

          <button id="btnDemoStart">Start</button>
        </div>
      </div>
    </div>
  </div>

    <!-- ======================
       SCREEN B: Trial steps
       ====================== -->
  <div id="trialScreen" style="display:none;">
    <div id="stepIndicator">Step 1 / 3: Stroke Character</div>

    <div id="mainLayout">
      <!-- LEFT: drawing + buttons + generated image -->
      <div id="canvasContainer">
        <!-- STEP 1 panel -->
        <div id="step1Controls" class="panel">
          <h2>Step 1 – Stroke Character</h2>

          <div class="sliderRow">
            <label for="strokeThickness">
              Thickness
              <span class="value" id="val_strokeThickness">3.0</span>
            </label>
            <input type="range" id="strokeThickness" min="0.5" max="12" step="0.5" value="2">
          </div>

          <div class="sliderRow">
            <label for="strokeCoarseness">
              Coarseness
              <span class="value" id="val_strokeCoarseness">0.0</span>
            </label>
            <input type="range" id="strokeCoarseness" min="0" max="100" step="1" value="0">
          </div>

          <div class="sliderRow">
            <label for="strokeWiggle">
              Wiggleness
              <span class="value" id="val_strokeWiggle">0.00</span>
            </label>
            <input type="range" id="strokeWiggle" min="0" max="100" step="1" value="0">
          </div>
        </div>

        <!-- STEP 2 panel -->
        <div id="step2Controls" class="panel" style="display:none;">
          <h2>Step 2 – Apple Geometry</h2>

          <div class="sliderRow">
            <label for="appleMorph">
              Bumpiness
              <span class="value" id="val_appleMorph">0.50</span>
            </label>
            <input type="range" id="appleMorph" min="0" max="100" step="1" value="50">
          </div>

          <div class="sliderRow">
            <label for="appleRigidity">
              Rigidity
              <span class="value" id="val_appleRigidity">0.50</span>
            </label>
            <input type="range" id="appleRigidity" min="0" max="100" step="1" value="50">
          </div>

          <div class="sliderRow">
            <label for="appleSymmetry">
              Symmetry
              <span class="value" id="val_appleSymmetry">0.00</span>
            </label>
            <input type="range" id="appleSymmetry" min="0" max="100" step="1" value="0">
          </div>
        </div>

        <!-- STEP 3 panel -->
        <div id="step3Controls" class="panel" style="display:none;">
          <h2>Step 3: Color Palette</h2>

          <div class="sliderRow">
            <label for="colorTone" class="dualLabel">
              <span>Warm</span>
              <span>Cold</span>
            </label>
            <input
              type="range"
              id="colorTone"
              min="0"
              max="100"
              value="50"
              step="1"
            />
          </div>

          <div class="sliderRow">
            <label for="colorSaturation" class="dualLabel">
              <span>Muted</span>
              <span>Vivid</span>
            </label>
            <input
              type="range"
              id="colorSaturation"
              min="0"
              max="100"
              value="80"
              step="1"
            />
          </div>

          <div class="sliderRow">
            <label for="colorBrightness" class="dualLabel">
              <span>Dull</span>
              <span>Bright</span>
            </label>
            <input
              type="range"
              id="colorBrightness"
              min="0"
              max="100"
              value="50"
              step="1"
            />
          </div>

          <div class="sliderRow">
            <label for="colorVariation" class="dualLabel">
              <span>Uniform</span>
              <span>Diverse</span>
            </label>
            <input
              type="range"
              id="colorVariation"
              min="0"
              max="100"
              value="50"
              step="1"
            />
          </div>
        </div>

        <div id="navButtons">
          <button id="btnBack" disabled>Back</button>
          <button id="btnNext">Next</button>
        </div>
      </div>

      <!-- RIGHT: evaluation questions -->
      <div id="controlsContainer">
        <div id="evaluationPanel" class="panel" style="display:none;">
          <h2>Evaluate the Generated Design</h2>
          <p style="font-size: 13px; color: #ccc;">
            Please rate how well this design matches your preferences:
          </p>

          <div class="sliderRow">
            <label>1. Materials and textures match my taste.</label>
            <select id="q_materials">
              <option value="">-- select --</option>
              <option value="1">1 – Strongly disagree</option>
              <option value="2">2</option>
              <option value="3">3 – Neutral</option>
              <option value="4">4</option>
              <option value="5">5 – Strongly agree</option>
            </select>
          </div>

          <div class="sliderRow">
            <label>2. The spatial arrangement feels right to me.</label>
            <select id="q_spatial">
              <option value="">-- select --</option>
              <option value="1">1 – Strongly disagree</option>
              <option value="2">2</option>
              <option value="3">3 – Neutral</option>
              <option value="4">4</option>
              <option value="5">5 – Strongly agree</option>
            </select>
          </div>

          <div class="sliderRow">
            <label>3. The color palette matches what I like.</label>
            <select id="q_color">
              <option value="">-- select --</option>
              <option value="1">1 – Strongly disagree</option>
              <option value="2">2</option>
              <option value="3">3 – Neutral</option>
              <option value="4">4</option>
              <option value="5">5 – Strongly agree</option>
            </select>
          </div>

          <div class="sliderRow">
            <label>4. Overall, this room matches my personal style.</label>
            <select id="q_overall">
              <option value="">-- select --</option>
              <option value="1">1 – Strongly disagree</option>
              <option value="2">2</option>
              <option value="3">3 – Neutral</option>
              <option value="4">4</option>
              <option value="5">5 – Strongly agree</option>
            </select>
          </div>

          <div class="sliderRow">
            <label>5. This drawing-based method helped me discover my preferences.</label>
            <select id="q_method">
              <option value="">-- select --</option>
              <option value="1">1 – Strongly disagree</option>
              <option value="2">2</option>
              <option value="3">3 – Neutral</option>
              <option value="4">4</option>
              <option value="5">5 – Strongly agree</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ======================
    SCREEN C: Result & Evaluation
    ====================== -->
  <div id="resultScreen" style="display:none;">
    <div id="resultLayout">
      <!-- TOP: generated image + message -->
      <div id="resultImageContainer" class="panel">
        <div id="message" style="margin-bottom: 8px; font-size: 13px; color: #ccc;"></div>

        <div id="generatedImageContainer" style="margin-top: 8px; display: none;">
          <img id="generatedImage" style="max-width: 100%; border: 1px solid #444;" />
        </div>
      </div>

      <!-- BOTTOM: evaluation questions -->
      <div id="resultEvaluationContainer" class="panel">
        <h2>Evaluate the Generated Design</h2>
        <p style="font-size: 13px; color: #ccc;">
          Please rate how well this design matches your preferences:
        </p>

        <div class="sliderRow">
          <label>1. Materials and textures match my taste.</label>
          <select id="q_materials">
            <option value="">-- select --</option>
            <option value="1">1 – Strongly disagree</option>
            <option value="2">2</option>
            <option value="3">3 – Neutral</option>
            <option value="4">4</option>
            <option value="5">5 – Strongly agree</option>
          </select>
        </div>

        <div class="sliderRow">
          <label>2. The spatial arrangement feels right to me.</label>
          <select id="q_spatial">
            <option value="">-- select --</option>
            <option value="1">1 – Strongly disagree</option>
            <option value="2">2</option>
            <option value="3">3 – Neutral</option>
            <option value="4">4</option>
            <option value="5">5 – Strongly agree</option>
          </select>
        </div>

        <div class="sliderRow">
          <label>3. The color palette matches what I like.</label>
          <select id="q_color">
            <option value="">-- select --</option>
            <option value="1">1 – Strongly disagree</option>
            <option value="2">2</option>
            <option value="3">3 – Neutral</option>
            <option value="4">4</option>
            <option value="5">5 – Strongly agree</option>
          </select>
        </div>

        <div class="sliderRow">
          <label>4. Overall, this room matches my personal style.</label>
          <select id="q_overall">
            <option value="">-- select --</option>
            <option value="1">1 – Strongly disagree</option>
            <option value="2">2</option>
            <option value="3">3 – Neutral</option>
            <option value="4">4</option>
            <option value="5">5 – Strongly agree</option>
          </select>
        </div>

        <div class="sliderRow">
          <label>5. This drawing-based method helped me discover my preferences.</label>
          <select id="q_method">
            <option value="">-- select --</option>
            <option value="1">1 – Strongly disagree</option>
            <option value="2">2</option>
            <option value="3">3 – Neutral</option>
            <option value="4">4</option>
            <option value="5">5 – Strongly agree</option>
          </select>
        </div>
      </div>
    </div>
  </div>

</div>


  <!-- p5.js -->
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
  <!-- your sketch -->
  <script src="promptUtils.js"></script>
  <script src="imageApi.js"></script>
  <script src="sketch.js"></script>

</html>


